# é¤å…ç§¯åˆ†æŠ½å¥–ç³»ç»Ÿ

> åŸºäºå¾®ä¿¡å°ç¨‹åºçš„é¤å…ç§¯åˆ†æŠ½å¥–ç³»ç»Ÿï¼Œé›†æˆæŠ½å¥–ã€å•†å“å…‘æ¢ã€æ‹ç…§ä¸Šä¼ ã€å•†å®¶ç®¡ç†ç­‰å®Œæ•´åŠŸèƒ½
//kk//
## ğŸ“– é¡¹ç›®ä»‹ç»

é¤å…ç§¯åˆ†æŠ½å¥–ç³»ç»Ÿæ˜¯ä¸€ä¸ªä¸ºé¤å…è¡Œä¸šæ‰“é€ çš„æ•°å­—åŒ–è¥é”€å·¥å…·ï¼Œé€šè¿‡æ¸¸æˆåŒ–çš„ç§¯åˆ†æŠ½å¥–æœºåˆ¶ï¼Œæå‡ç”¨æˆ·ç²˜æ€§å’Œå¤è´­ç‡ã€‚ç³»ç»ŸåŒ…å«ç”¨æˆ·ç«¯ã€å•†å®¶ç«¯å’Œç®¡ç†ç«¯çš„å®Œæ•´åŠŸèƒ½æ¨¡å—ã€‚

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### ç”¨æˆ·ç«¯åŠŸèƒ½
- **ğŸ° ç§¯åˆ†æŠ½å¥–**: è½¬ç›˜æŠ½å¥–ç³»ç»Ÿï¼Œæ”¯æŒå•æŠ½/ä¸‰è¿æŠ½/äº”è¿æŠ½/åè¿æŠ½
- **ğŸ›ï¸ å•†å“å…‘æ¢**: ä¸°å¯Œçš„å•†å“åº“ï¼Œæ”¯æŒç­›é€‰ã€æ’åºã€å®æ—¶åº“å­˜æ˜¾ç¤º
- **ğŸ“¸ æ‹ç…§ä¸Šä¼ **: å°ç¥¨æ‹ç…§ä¸Šä¼ ï¼ŒAIæ™ºèƒ½è¯†åˆ«æ¶ˆè´¹é‡‘é¢
- **ğŸ‘¤ ä¸ªäººä¸­å¿ƒ**: ç§¯åˆ†ä½™é¢ã€å…‘æ¢è®°å½•ã€æŠ½å¥–å†å²ç­‰

### å•†å®¶ç«¯åŠŸèƒ½
- **ğŸ‘¨â€ğŸ’¼ å•†å®¶æƒé™**: æƒé™ç”³è¯·å’Œå®¡æ ¸ç®¡ç†
- **ğŸ“‹ å®¡æ ¸ç®¡ç†**: å°ç¥¨å®¡æ ¸ã€æ‰¹é‡å¤„ç†ã€æ•°æ®ç»Ÿè®¡
- **ğŸ“¦ å•†å“ç®¡ç†**: å•†å“CRUDã€åº“å­˜ç®¡ç†ã€çŠ¶æ€æ§åˆ¶

### ç®¡ç†ç«¯åŠŸèƒ½
- **ğŸ“Š æ•°æ®ç»Ÿè®¡**: ç”¨æˆ·æ•°æ®ã€æŠ½å¥–æ•°æ®ã€å…‘æ¢æ•°æ®åˆ†æ
- **âš™ï¸ ç³»ç»Ÿé…ç½®**: æŠ½å¥–æ¦‚ç‡ã€ç§¯åˆ†è§„åˆ™ã€å•†å“ç®¡ç†
- **ğŸ” æƒé™ç®¡ç†**: ç”¨æˆ·æƒé™ã€å•†å®¶æƒé™æ§åˆ¶

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: å¾®ä¿¡å°ç¨‹åºåŸç”Ÿå¼€å‘
- **UIç»„ä»¶**: Vant Weapp v1.10.8
- **åŠ¨ç”»**: Canvas 2D API
- **çŠ¶æ€ç®¡ç†**: å¾®ä¿¡å°ç¨‹åº globalData
- **ç½‘ç»œé€šä¿¡**: wx.request + WebSocket
- **æœ¬åœ°å­˜å‚¨**: wx.storage

### åç«¯æŠ€æœ¯ï¼ˆå¯¹æ¥ä¸­ï¼‰
- **æ¡†æ¶**: Node.js + Express / Spring Boot
- **æ•°æ®åº“**: MySQL 8.0+
- **ç¼“å­˜**: Redis 6.0+
- **å­˜å‚¨**: Sealos å¯¹è±¡å­˜å‚¨
- **è®¤è¯**: JWT + Refresh Token
- **å®æ—¶é€šä¿¡**: WebSocket

## ğŸ“ é¡¹ç›®ç»“æ„

```
tiangongqianduan/
â”œâ”€â”€ app.js                 # å°ç¨‹åºå…¥å£æ–‡ä»¶
â”œâ”€â”€ app.json               # å°ç¨‹åºé…ç½®æ–‡ä»¶
â”œâ”€â”€ app.wxss               # å…¨å±€æ ·å¼æ–‡ä»¶
â”œâ”€â”€ pages/                 # é¡µé¢ç›®å½•
â”‚   â”œâ”€â”€ lottery/           # æŠ½å¥–é¡µé¢
â”‚   â”œâ”€â”€ exchange/          # å…‘æ¢é¡µé¢
â”‚   â”œâ”€â”€ photo/             # æ‹ç…§ä¸Šä¼ é¡µé¢
â”‚   â”œâ”€â”€ merchant/          # å•†å®¶ç®¡ç†é¡µé¢
â”‚   â”œâ”€â”€ profile/           # ä¸ªäººä¸­å¿ƒé¡µé¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ components/            # è‡ªå®šä¹‰ç»„ä»¶
â”œâ”€â”€ utils/                 # å·¥å…·å‡½æ•°
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”œâ”€â”€ images/                # å›¾ç‰‡èµ„æº
â””â”€â”€ docs/                  # é¡¹ç›®æ–‡æ¡£
    â”œâ”€â”€ å¼€å‘æ€»æ–‡æ¡£1å·.md
    â””â”€â”€ å‰ç«¯1å·.md
```

## ğŸ”§ å¼€å‘ç¯å¢ƒé…ç½®

### 1. ç¯å¢ƒè¦æ±‚
- å¾®ä¿¡å¼€å‘è€…å·¥å…· >= 1.06.0
- å¾®ä¿¡å°ç¨‹åºåŸºç¡€åº“ >= 2.15.0
- Node.js >= 16.0.0 (åç«¯å¼€å‘)

### 2. æœ¬åœ°å¼€å‘
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/qwerasdf659/tiangongqianduan.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd tiangongqianduan

# æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·ï¼Œå¯¼å…¥é¡¹ç›®
# é…ç½® AppID å’ŒåŸºç¡€åº“ç‰ˆæœ¬
```

### 3. ç¯å¢ƒé…ç½®
```javascript
// app.js å¼€å‘ç¯å¢ƒé…ç½®
globalData: {
  isDev: true,              // å¼€å‘æ¨¡å¼
  needAuth: false,          // è·³è¿‡è®¤è¯
  baseUrl: 'dev-api-url',   // å¼€å‘ç¯å¢ƒAPI
  wsUrl: 'dev-ws-url'       // å¼€å‘ç¯å¢ƒWebSocket
}
```

## ğŸ“‹ éƒ¨ç½²æŒ‡å—

### ç”Ÿäº§ç¯å¢ƒé…ç½®
```javascript
// app.js ç”Ÿäº§ç¯å¢ƒé…ç½®
globalData: {
  isDev: false,             // å…³é—­å¼€å‘æ¨¡å¼
  needAuth: true,           // å¯ç”¨è®¤è¯
  baseUrl: 'prod-api-url',  // ç”Ÿäº§ç¯å¢ƒAPI
  wsUrl: 'prod-ws-url'      // ç”Ÿäº§ç¯å¢ƒWebSocket
}
```

### éƒ¨ç½²æ£€æŸ¥æ¸…å•
- [ ] ä¿®æ”¹ `isDev: false`
- [ ] å¯ç”¨ `needAuth: true`
- [ ] é…ç½®ç”Ÿäº§ç¯å¢ƒAPIåœ°å€
- [ ] é…ç½®Sealoså­˜å‚¨å¯†é’¥
- [ ] ç§»é™¤æ‰€æœ‰Mockæ•°æ®å’Œè°ƒè¯•ä»£ç 
- [ ] æµ‹è¯•æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½

## ğŸ”Œ APIæ¥å£å¯¹æ¥

### è®¤è¯æ¥å£
```javascript
POST /api/auth/login        // ç”¨æˆ·ç™»å½•
POST /api/auth/refresh      // Tokenåˆ·æ–°
```

### æŠ½å¥–æ¥å£
```javascript
GET /api/lottery/config     // è·å–æŠ½å¥–é…ç½®
POST /api/lottery/draw      // æ‰§è¡ŒæŠ½å¥–
```

### å…‘æ¢æ¥å£
```javascript
GET /api/exchange/products  // å•†å“åˆ—è¡¨
POST /api/exchange/redeem   // å•†å“å…‘æ¢
```

### ä¸Šä¼ æ¥å£
```javascript
POST /api/photo/upload      // å›¾ç‰‡ä¸Šä¼ 
GET /api/photo/records      // ä¸Šä¼ è®°å½•
```

### WebSocketæ¶ˆæ¯
```javascript
// åº“å­˜å˜æ›´æ¨é€
{
  "type": "stock_update",
  "data": {
    "product_id": 1,
    "stock": 15
  }
}

// ç§¯åˆ†å˜æ›´æ¨é€
{
  "type": "points_update", 
  "data": {
    "user_id": 123,
    "total_points": 1500,
    "change_points": 100
  }
}
```

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- **é¡µé¢åŠ è½½æ—¶é—´**: < 2ç§’
- **CanvasåŠ¨ç”»å¸§ç‡**: â‰¥ 30fps
- **APIå“åº”æ—¶é—´**: < 500ms
- **é”™è¯¯ç‡**: < 1%
- **WebSocketè¿æ¥æˆåŠŸç‡**: > 95%

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

## ğŸ“„ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ MIT åè®® - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

## ğŸ“ è”ç³»æ–¹å¼

- é¡¹ç›®è´Ÿè´£äºº: [è”ç³»é‚®ç®±]
- æŠ€æœ¯æ”¯æŒ: [æŠ€æœ¯æ”¯æŒé‚®ç®±]
- é¡¹ç›®åœ°å€: https://github.com/qwerasdf659/tiangongqianduan

## ğŸ“ æ›´æ–°æ—¥å¿—

### v1.0.0 (2024-12-19)
- âœ… å®ŒæˆåŸºç¡€åŠŸèƒ½å¼€å‘
- âœ… å®ç°æŠ½å¥–ã€å…‘æ¢ã€ä¸Šä¼ ã€å•†å®¶ç®¡ç†ç­‰æ ¸å¿ƒæ¨¡å—
- âœ… å®Œå–„å‰åç«¯å¯¹æ¥è§„èŒƒ
- âœ… æ·»åŠ é¡¹ç›®æ–‡æ¡£å’Œéƒ¨ç½²æŒ‡å—

---

> **âš ï¸ æ³¨æ„**: æœ¬é¡¹ç›®å‰ç«¯åŠŸèƒ½å·²åŸºæœ¬å®Œæˆï¼Œç›®å‰å¤„äºåç«¯å¯¹æ¥é˜¶æ®µã€‚ä½¿ç”¨å‰è¯·ç¡®ä¿åç«¯æœåŠ¡å·²éƒ¨ç½²å¹¶é…ç½®ç›¸åº”çš„APIæ¥å£ã€‚ 