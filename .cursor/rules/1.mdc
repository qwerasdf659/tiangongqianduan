---
description: 
globs: 
alwaysApply: true
---
# ğŸš¨ ä¼šè¯é—®é¢˜åˆ†æä¸è§£å†³æ–¹æ¡ˆ - æ ¸å¿ƒè§„åˆ™é›†

## ğŸ“Š é—®é¢˜æ¸…å•ä¸ä¸¥é‡ç¨‹åº¦åˆ†çº§

### Açº§é—®é¢˜ï¼ˆä¸¥é‡ - å¯¼è‡´ä»»åŠ¡ä¸­æ–­ï¼‰

#### 1. é‡å¤æ–‡ä»¶åˆ›å»ºé—®é¢˜
- **ç°è±¡**ï¼šåˆ›å»ºäº†ä¸¤ä¸ª1.mdcæ–‡ä»¶ï¼Œæ²¡æœ‰æå‰æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- **æ ¹æœ¬åŸå› **ï¼šç¼ºä¹æ–‡ä»¶åˆ›å»ºå‰çš„æ£€æŸ¥æœºåˆ¶
- **å½±å“**ï¼šè¿å"ä¸æµªè´¹Claude 4 Sonnetè¯·æ±‚æ¬¡æ•°"è§„åˆ™ï¼Œé€ æˆç”¨æˆ·å›°æƒ‘
- **è§£å†³æ–¹æ¡ˆ**ï¼šå®æ–½FileCreationValidatorå¼ºåˆ¶æ£€æŸ¥æœºåˆ¶

#### 2. æ–‡æ¡£æ—¥æœŸé”™è¯¯
- **ç°è±¡**ï¼šæ–‡æ¡£æ›´æ–°æ—¥æœŸå†™æˆ2025å¹´1æœˆ3æ—¥ï¼Œå®é™…åº”ä¸ºå½“å‰æ—¥æœŸ
- **æ ¹æœ¬åŸå› **ï¼šAIæ¨¡å‹æ—¶é—´è®¤çŸ¥é”™è¯¯ï¼Œæœªæ­£ç¡®è·å–å½“å‰æ—¥æœŸ
- **å½±å“**ï¼šæ–‡æ¡£ç‰ˆæœ¬ç®¡ç†æ··ä¹±ï¼Œç”¨æˆ·å›°æƒ‘
- **è§£å†³æ–¹æ¡ˆ**ï¼šå¼ºåˆ¶ä½¿ç”¨PowerShell `Get-Date` å‘½ä»¤è·å–å½“å‰æ—¥æœŸ

#### 3. PowerShellæ§åˆ¶å°ç¼“å†²åŒºæº¢å‡ºå¼‚å¸¸
- **è¯¦ç»†è§„åˆ™å‚è€ƒ**ï¼š`development-automation-unified.mdc` - PowerShellæ§åˆ¶å°ç¨³å®šæ€§ä¿éšœ
- **è§¦å‘æ¡ä»¶**ï¼šåŒ…å«ä¸­æ–‡å­—ç¬¦çš„é•¿å‘½ä»¤ > 100å­—ç¬¦
- **å…·ä½“è§¦å‘å‘½ä»¤**ï¼š`Get-ChildItem pages -Directory | Measure-Object | Select-Object -ExpandProperty Count`
- **æ ¹æœ¬åŸå› **ï¼šPSConsoleReadLineæ¨¡å—å¯¹ä¸­æ–‡å­—ç¬¦å¤„ç†å­˜åœ¨ç¼ºé™·
- **é¢„é˜²æœºåˆ¶**ï¼šæ‹†åˆ†é•¿å‘½ä»¤ï¼Œé¿å…ä¸­æ–‡å­—ç¬¦+å¤æ‚ç®¡é“ç»„åˆ

#### 4. å·¥å…·è°ƒç”¨å‚æ•°éªŒè¯é”™è¯¯
- **è¯¦ç»†è§„åˆ™å‚è€ƒ**ï¼š`development-automation-unified.mdc` - å·¥å…·è°ƒç”¨å‚æ•°éªŒè¯ç³»ç»Ÿ
- **ç°è±¡**ï¼šread_fileå·¥å…·è°ƒç”¨æ—¶end_line_one_indexed_inclusive < start_line_one_indexedå¯¼è‡´å¤±è´¥
- **æ ¹æœ¬åŸå› **ï¼šå‚æ•°éªŒè¯é€»è¾‘ç¼ºå¤±ï¼Œæœªæ£€æŸ¥è¡Œæ•°èŒƒå›´åˆç†æ€§
- **è§£å†³æ–¹æ¡ˆ**ï¼šå®æ–½å·¥å…·è°ƒç”¨å‚æ•°éªŒè¯è§„åˆ™

#### 5. å¾®ä¿¡å°ç¨‹åºå¯åŠ¨æ–¹å¼é”™è¯¯è¯†åˆ«
- **è¯¦ç»†è§„åˆ™å‚è€ƒ**ï¼š`development-automation-unified.mdc` - å¾®ä¿¡å°ç¨‹åºé¡¹ç›®è‡ªåŠ¨è¯†åˆ«ç³»ç»Ÿ
- **ç°è±¡**ï¼šå°è¯•ä½¿ç”¨npm startå¯åŠ¨å¾®ä¿¡å°ç¨‹åºé¡¹ç›®
- **æ ¹æœ¬åŸå› **ï¼šæ··æ·†äº†Webé¡¹ç›®å’Œå°ç¨‹åºé¡¹ç›®çš„å¯åŠ¨æ–¹å¼
- **è§£å†³æ–¹æ¡ˆ**ï¼šæ˜ç¡®å¾®ä¿¡å°ç¨‹åºåªèƒ½é€šè¿‡å¼€å‘è€…å·¥å…·å¯åŠ¨

### Bçº§é—®é¢˜ï¼ˆä¸­ç­‰ - æ•ˆç‡æŸå¤±ï¼‰

#### 6. å¹¶è¡Œå·¥å…·è°ƒç”¨åˆ©ç”¨ä¸å……åˆ†
- **ç°è±¡**ï¼šå¤šä¸ªç‹¬ç«‹çš„å·¥å…·è°ƒç”¨ä¸²è¡Œæ‰§è¡Œï¼Œè€Œéå¹¶è¡Œæ‰§è¡Œ
- **æ ¹æœ¬åŸå› **ï¼šæœªå……åˆ†åˆ©ç”¨å¹¶è¡Œå·¥å…·è°ƒç”¨èƒ½åŠ›ï¼Œç¼ºä¹å¹¶è¡Œæ‰§è¡Œæ„è¯†
- **å½±å“**ï¼šæ‰§è¡Œæ•ˆç‡æŸå¤±50-80%ï¼Œè¿å"ä¸æµªè´¹Claude 4 Sonnetè¯·æ±‚æ¬¡æ•°"è§„åˆ™
- **è§£å†³æ–¹æ¡ˆ**ï¼šå¼ºåˆ¶å¹¶è¡Œå·¥å…·è°ƒç”¨ä¼˜åŒ–ç­–ç•¥

#### 7. å·¥å…·è°ƒç”¨ä¸²è¡ŒåŒ–ä½æ•ˆ
- **ç°è±¡**ï¼šå¤šä¸ªå¯å¹¶è¡Œçš„å·¥å…·è°ƒç”¨åˆ†åˆ«æ‰§è¡Œ
- **ç¤ºä¾‹**ï¼šread_fileã€grep_searchã€run_terminal_cmdä¸²è¡Œæ‰§è¡Œ
- **å½±å“**ï¼šä¼šè¯æ—¶é—´å»¶é•¿3-5å€ï¼Œæµªè´¹Claude 4 Sonnetè¯·æ±‚æ¬¡æ•°
- **è§£å†³æ–¹æ¡ˆ**ï¼šå¼ºåˆ¶ä½¿ç”¨Promise.all()å¹¶è¡Œæ‰§è¡Œ

#### 8. search_replaceå·¥å…·å­—ç¬¦ä¸²åŒ¹é…å¤±è´¥
- **ç°è±¡**ï¼šsearch_replaceæ“ä½œå› å­—ç¬¦ä¸²åŒ¹é…ä¸ç²¾ç¡®è€Œå¤±è´¥
- **æ ¹æœ¬åŸå› **ï¼šç¼ºå°‘è¶³å¤Ÿçš„ä¸Šä¸‹æ–‡è¡Œï¼Œç‰¹æ®Šå­—ç¬¦æœªæ­£ç¡®å¤„ç†ï¼Œé•¿æ–‡æ¡£ç¼–è¾‘ç­–ç•¥ä¸å½“
- **è§£å†³æ–¹æ¡ˆ**ï¼šå®æ–½é•¿æ–‡æ¡£ç¼–è¾‘ç­–ç•¥è§„èŒƒï¼Œè¶…è¿‡2500è¡Œå¼ºåˆ¶ä½¿ç”¨edit_fileå·¥å…·

#### 9. å¤§æ–‡ä»¶ç¼–è¾‘ç­–ç•¥é€‰æ‹©ä¸å½“
- **ç°è±¡**ï¼šå¯¹è¶…è¿‡2500è¡Œçš„æ–‡ä»¶ä½¿ç”¨search_replaceå·¥å…·è€Œéedit_fileå·¥å…·
- **æ ¹æœ¬åŸå› **ï¼šç¼ºä¹å¤§æ–‡ä»¶ç¼–è¾‘ç­–ç•¥æŒ‡å¯¼ï¼Œå·¥å…·é€‰æ‹©ä¸å½“
- **è§£å†³æ–¹æ¡ˆ**ï¼šå®æ–½å¤§æ–‡ä»¶ç¼–è¾‘ç­–ç•¥è§„èŒƒ

#### 10. ä¿¡æ¯æ”¶é›†ç­–ç•¥ä¸å®Œæ•´
- **è¯¦ç»†è§„åˆ™å‚è€ƒ**ï¼š`development-automation-unified.mdc` - ä¸‰é˜¶æ®µä¿¡æ¯æ”¶é›†ç­–ç•¥
- **ç°è±¡**ï¼šä»»åŠ¡å¼€å§‹æ—¶æ²¡æœ‰åˆ¶å®šå®Œæ•´çš„ä¿¡æ¯æ”¶é›†è®¡åˆ’ï¼Œå¯¼è‡´å¤šæ¬¡è¡¥å……è¯»å–æ–‡ä»¶
- **æ ¹æœ¬åŸå› **ï¼šç¼ºä¹ä»»åŠ¡å‰çš„å…¨é¢åˆ†æå’Œè§„åˆ’ï¼Œæœªå……åˆ†åˆ©ç”¨å¹¶è¡Œå·¥å…·è°ƒç”¨èƒ½åŠ›
- **è§£å†³æ–¹æ¡ˆ**ï¼šå®æ–½ä¸‰é˜¶æ®µä¿¡æ¯æ”¶é›†ç­–ç•¥ï¼Œå¼ºåˆ¶å¹¶è¡Œå·¥å…·è°ƒç”¨ä¼˜åŒ–

#### 11. æ­£åˆ™è¡¨è¾¾å¼ç‰¹æ®Šå­—ç¬¦å¤„ç†ä¸å½“
- **é”™è¯¯**ï¼š`console.log.*[ğŸ”§ğŸ”—ğŸ“¨âŒâœ…]` æœªè½¬ä¹‰emojiå­—ç¬¦
- **ç»“æœ**ï¼šSelect-Stringæ‰§è¡Œå¤±è´¥
- **åŸå› **ï¼šç‰¹æ®Šå­—ç¬¦è½¬ä¹‰è§„åˆ™ä¸å®Œå–„
- **è§£å†³æ–¹æ¡ˆ**ï¼šè‡ªåŠ¨è½¬ä¹‰emojiå’Œç‰¹æ®Šå­—ç¬¦

### Cçº§é—®é¢˜ï¼ˆè½»å¾® - æµç¨‹ä¸è§„èŒƒï¼‰

#### 12. Mockæ•°æ®æ£€æµ‹ä¸å®Œæ•´
- **è¯¦ç»†è§„åˆ™å‚è€ƒ**ï¼š`tiangong-security-standards (1).mdc` - Mockæ•°æ®å®‰å…¨æ£€æµ‹ä¸é˜²æŠ¤
- **ç°è±¡**ï¼šMockæ•°æ®æ£€æµ‹å­˜åœ¨æ¼ç½‘ä¹‹é±¼ï¼Œå¯¼è‡´å¤šæ¬¡ä¿®å¤
- **æ ¹æœ¬åŸå› **ï¼šæ£€æµ‹è§„åˆ™ä¸å¤Ÿå…¨é¢ï¼Œå…³é”®å­—è¦†ç›–ä¸è¶³
- **è§£å†³æ–¹æ¡ˆ**ï¼šå®Œå–„Mockæ•°æ®æ£€æµ‹è§„åˆ™ï¼Œå¢åŠ è‡ªåŠ¨åŒ–æ£€æµ‹

#### 13. æœç´¢ç­–ç•¥è¿‡åº¦ç»†åˆ†
- **ç°è±¡**ï¼šä½¿ç”¨è¿‡äºå…·ä½“çš„æœç´¢queriesè€Œéè¯­ä¹‰åŒ–æœç´¢
- **æ ¹æœ¬åŸå› **ï¼šæœªå……åˆ†åˆ©ç”¨codebase_searchçš„è¯­ä¹‰ç†è§£èƒ½åŠ›
- **è§£å†³æ–¹æ¡ˆ**ï¼šä¼˜åŒ–æœç´¢ç­–ç•¥ï¼Œä½¿ç”¨è¯­ä¹‰åŒ–æœç´¢

#### 14. ä»»åŠ¡éªŒè¯ä¸å®Œæ•´
- **ç°è±¡**ï¼šä¿®æ”¹å®Œæˆåæœªå……åˆ†éªŒè¯ç»“æœ
- **æ ¹æœ¬åŸå› **ï¼šç¼ºä¹æ ‡å‡†åŒ–çš„éªŒè¯æµç¨‹
- **è§£å†³æ–¹æ¡ˆ**ï¼šå»ºç«‹å®Œæ•´çš„ä»»åŠ¡éªŒè¯æ£€æŸ¥æ¸…å•

## ğŸ”§ å¼ºåˆ¶é¢„é˜²è§„åˆ™

### 1. å·¥å…·è°ƒç”¨å‚æ•°éªŒè¯è§„åˆ™
```javascript
// ğŸ”´ read_fileå·¥å…·è°ƒç”¨å‰å¼ºåˆ¶å‚æ•°éªŒè¯
class ReadFileValidator {
    static validateParams(start_line, end_line, total_lines) {
        const errors = []
        
        if (start_line < 1) {
            errors.push('start_lineå¿…é¡»å¤§äºç­‰äº1')
        }
        
        if (end_line < start_line) {
            errors.push('end_lineå¿…é¡»å¤§äºç­‰äºstart_line')
        }
        
        if (total_lines && end_line > total_lines) {
            errors.push(`end_line(${end_line})è¶…è¿‡æ–‡ä»¶æ€»è¡Œæ•°(${total_lines})`)
        }
        
        const rangeSize = end_line - start_line + 1
        if (rangeSize > 1000) {
            errors.push('å•æ¬¡è¯»å–è¡Œæ•°ä¸åº”è¶…è¿‡1000è¡Œï¼Œå»ºè®®åˆ†æ‰¹è¯»å–')
        }
        
        return errors
    }
    
    static createSafeParams(start_line, end_line, total_lines) {
        return {
            start_line_one_indexed: Math.max(1, Math.min(start_line, total_lines || 1)),
            end_line_one_indexed_inclusive: Math.max(start_line, Math.min(end_line, total_lines || start_line)),
            should_read_entire_file: false
        }
    }
}
```

### 2. å¹¶è¡Œå·¥å…·è°ƒç”¨å¼ºåˆ¶ä¼˜åŒ–è§„åˆ™
```javascript
// ğŸ”´ å¹¶è¡Œå·¥å…·è°ƒç”¨ç®¡ç†å™¨
class ParallelToolManager {
    constructor() {
        this.efficiency = {
            parallelCalls: 0,
            serialCalls: 0,
            timeSaved: 0
        }
    }
    
    // ğŸ”´ æ£€æµ‹å¯å¹¶è¡Œçš„å·¥å…·è°ƒç”¨
    detectParallelOpportunities(toolCalls) {
        const readOnlyTools = ['read_file', 'grep_search', 'list_dir', 'file_search', 'codebase_search']
        
        const independent = toolCalls.filter(call => 
            readOnlyTools.includes(call.tool) && !call.dependsOn
        )
        
        if (independent.length > 1) {
            console.warn(`âš ï¸ æ£€æµ‹åˆ°${independent.length}ä¸ªå¯å¹¶è¡Œè°ƒç”¨ï¼Œå»ºè®®ä½¿ç”¨Promise.all()`)
            return {
                canOptimize: true,
                tools: independent,
                estimatedTimeSaving: (independent.length - 1) * 3
            }
        }
        
        return { canOptimize: false }
    }
    
    // ğŸ”´ å¼ºåˆ¶å¹¶è¡Œæ‰§è¡Œ
    async executeParallel(toolCalls) {
        console.log(`ğŸš€ å¹¶è¡Œæ‰§è¡Œ${toolCalls.length}ä¸ªå·¥å…·è°ƒç”¨`)
        
        const startTime = Date.now()
        const results = await Promise.all(toolCalls.map(call => call.execute()))
        const endTime = Date.now()
        
        this.efficiency.parallelCalls += toolCalls.length
        this.efficiency.timeSaved += (toolCalls.length - 1) * 3000
        
        console.log(`âœ… å¹¶è¡Œæ‰§è¡Œå®Œæˆï¼Œè€—æ—¶${endTime - startTime}msï¼ŒèŠ‚çœ${this.efficiency.timeSaved}ms`)
        return results
    }
}
```

### 3. å¤§æ–‡ä»¶ç¼–è¾‘ç­–ç•¥è§„èŒƒ
```javascript
// ğŸ”´ å¤§æ–‡ä»¶ç¼–è¾‘ç­–ç•¥é€‰æ‹©å™¨
class FileEditingStrategy {
    static getStrategy(filePath, fileSize, lineCount) {
        const SIZE_THRESHOLD = 2500 // è¡Œæ•°é˜ˆå€¼
        
        if (lineCount > SIZE_THRESHOLD) {
            console.warn(`ğŸ”§ å¤§æ–‡ä»¶æ£€æµ‹ï¼š${filePath} æœ‰${lineCount}è¡Œï¼Œè¶…è¿‡${SIZE_THRESHOLD}è¡Œé˜ˆå€¼`)
            return 'edit_file'
        }
        
        if (fileSize > 100 * 1024) { // 100KB
            console.warn(`ğŸ”§ å¤§æ–‡ä»¶æ£€æµ‹ï¼š${filePath} å¤§å°${fileSize}å­—èŠ‚ï¼Œå»ºè®®ä½¿ç”¨edit_file`)
            return 'edit_file'
        }
        
        return 'search_replace'
    }
    
    static createEditingPlan(filePath, changes) {
        const strategy = this.getStrategy(filePath, changes.fileSize, changes.lineCount)
        
        return {
            tool: strategy,
            approach: strategy === 'edit_file' ? 'complete_replacement' : 'targeted_replacement',
            warnings: strategy === 'edit_file' ? 
                ['å¤§æ–‡ä»¶ç¼–è¾‘ï¼Œè¯·ç¡®ä¿ä¸Šä¸‹æ–‡å……è¶³'] : 
                ['å°æ–‡ä»¶ç¼–è¾‘ï¼Œç¡®ä¿åŒ¹é…å­—ç¬¦ä¸²å”¯ä¸€'],
            estimatedTime: strategy === 'edit_file' ? 5 : 3
        }
    }
}
```

### 4. æœç´¢ç­–ç•¥ä¼˜åŒ–è§„åˆ™
```javascript
// ğŸ”´ æœç´¢ç­–ç•¥ä¼˜åŒ–å™¨
class SearchStrategyOptimizer {
    constructor() {
        this.searchPatterns = {
            SEMANTIC: 'semantic_search',
            EXACT: 'exact_search',
            HYBRID: 'hybrid_search'
        }
    }
    
    // ğŸ”´ é€‰æ‹©æœ€é€‚åˆçš„æœç´¢ç­–ç•¥
    selectStrategy(query, context) {
        const semanticKeywords = ['how', 'where', 'what', 'when', 'why', 'which']
        const exactKeywords = ['function', 'class', 'const', 'let', 'var']
        
        const isSemanticQuery = semanticKeywords.some(keyword => 
            query.toLowerCase().includes(keyword)
        )
        
        const isExactQuery = exactKeywords.some(keyword => 
            query.includes(keyword)
        )
        
        if (isSemanticQuery && !isExactQuery) {
            return {
                strategy: this.searchPatterns.SEMANTIC,
                tool: 'codebase_search',
                query: this.optimizeSemanticQuery(query)
            }
        }
        
        if (isExactQuery && !isSemanticQuery) {
            return {
                strategy: this.searchPatterns.EXACT,
                tool: 'grep_search',
                query: this.optimizeExactQuery(query)
            }
        }
        
        return {
            strategy: this.searchPatterns.HYBRID,
            tools: ['codebase_search', 'grep_search'],
            queries: [this.optimizeSemanticQuery(query), this.optimizeExactQuery(query)]
        }
    }
    
    // ğŸ”´ ä¼˜åŒ–è¯­ä¹‰æœç´¢æŸ¥è¯¢
    optimizeSemanticQuery(query) {
        if (!query.includes('?')) {
            return `How does ${query} work?`
        }
        return query
    }
    
    // ğŸ”´ ä¼˜åŒ–ç²¾ç¡®æœç´¢æŸ¥è¯¢
    optimizeExactQuery(query) {
        return query.replace(/[.*+?^${}()|[\]\\]/g, '\\$&')
    }
}
```

### 5. æ—¥æœŸæ—¶é—´è‡ªåŠ¨è·å–è§„åˆ™
```powershell
# ğŸ”´ å¼ºåˆ¶ä½¿ç”¨PowerShellè·å–å½“å‰æ—¥æœŸ
Get-Date -Format "yyyyå¹´MMæœˆddæ—¥"        # æ–‡æ¡£æ ¼å¼
Get-Date -Format "yyyy-MM-dd"            # ç‰ˆæœ¬æ ¼å¼

# ğŸ”´ ç¦æ­¢æ‰‹åŠ¨è¾“å…¥æ—¥æœŸ
# âŒ é”™è¯¯ï¼šæ‰‹åŠ¨å†™å…¥"2025å¹´1æœˆ3æ—¥"
# âœ… æ­£ç¡®ï¼šä½¿ç”¨Get-Dateå‘½ä»¤è·å–
```

### 6. æ­£åˆ™è¡¨è¾¾å¼å®‰å…¨å¤„ç†è§„åˆ™
```javascript
// ğŸ”´ è‡ªåŠ¨emojiè½¬ä¹‰å¤„ç†
function createSafeRegexPattern(unsafePattern) {
    const emojiMap = {
        'ğŸ”§': '\\u{1F527}',
        'ğŸ”—': '\\u{1F517}',
        'ğŸ“¨': '\\u{1F4E8}',
        'âŒ': '\\u{274C}',
        'âœ…': '\\u{2705}'
    }
    
    let safePattern = unsafePattern
    for (const [emoji, unicode] of Object.entries(emojiMap)) {
        safePattern = safePattern.replace(
            new RegExp(emoji.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'), 'g'), 
            unicode
        )
    }
    
    return safePattern
}
```

## ğŸ“Š æ²Ÿé€šè´¨é‡è¯„ä¼°ç³»ç»Ÿ

### æ²Ÿé€šæ•ˆæœç›‘æ§æœºåˆ¶
```javascript
// ğŸ”´ æ²Ÿé€šè´¨é‡è¯„ä¼°æŒ‡æ ‡
const COMMUNICATION_QUALITY_METRICS = {
    completeness: {
        hasTaskConfirmation: true,
        hasLimitationExplanation: true,
        hasAlternativeSolutions: true,
        hasCommitmentStatement: true
    },
    
    usefulness: {
        providesActionableSteps: true,
        addressesUserConcerns: true,
        offersMultipleOptions: true,
        maintainsPositiveAttitude: true
    },
    
    clarity: {
        usesStructuredFormat: true,
        avoidsJargon: true,
        providesExamples: true,
        usesVisualElements: true
    }
}
```

## ğŸ”§ é—®é¢˜é¢„é˜²æ£€æŸ¥æ¸…å•

### ä¼šè¯å¼€å§‹å‰æ²Ÿé€šæ£€æŸ¥
```
ğŸ”´ æ¯æ¬¡å“åº”å‰å¿…é¡»æ£€æŸ¥ï¼š
1. æ˜¯å¦ç†è§£äº†ç”¨æˆ·çš„çœŸå®éœ€æ±‚ï¼Ÿ
2. æ˜¯å¦è¯šå®è¯´æ˜äº†æŠ€æœ¯é™åˆ¶ï¼Ÿ
3. æ˜¯å¦æä¾›äº†æ›¿ä»£è§£å†³æ–¹æ¡ˆï¼Ÿ
4. æ˜¯å¦è¡¨è¾¾äº†ç§¯æè§£å†³æ€åº¦ï¼Ÿ
5. æ˜¯å¦éµå®ˆäº†æ‰€æœ‰ç”¨æˆ·è§„åˆ™ï¼Ÿ

âš ï¸ ä»»ä½•ä¸€é¡¹ä¸æ»¡è¶³éƒ½ç¦æ­¢å‘é€å“åº”
```

### é‡å¤ä»»åŠ¡å¤„ç†æ£€æŸ¥
```
ğŸ”´ é‡å¤ä»»åŠ¡è¯†åˆ«æ£€æŸ¥ï¼š
1. ç”¨æˆ·æ˜¯å¦æ˜ç¡®è¡¨ç¤ºè¿™æ˜¯é‡å¤ä»»åŠ¡ï¼Ÿ
2. æ˜¯å¦éœ€è¦å®Œæ•´é‡æ–°æ‰§è¡Œï¼Ÿ
3. æ˜¯å¦éœ€è¦ä¿è¯å†…å®¹å®Œæ•´æ€§ï¼Ÿ
4. æ˜¯å¦éœ€è¦ä¸¥æ ¼éµå®ˆè§„åˆ™ï¼Ÿ

âœ… é‡å¤ä»»åŠ¡å¿…é¡»100%é‡æ–°æ‰§è¡Œ
```

## ğŸš€ 2025å¹´01æœˆ03æ—¥æ–°å¢é—®é¢˜æ¨¡å¼è¯†åˆ«è§„åˆ™

### 7. é—®é¢˜æ¨¡å¼è¯†åˆ«ç³»ç»Ÿ
```javascript
// ğŸ”´ é—®é¢˜æ¨¡å¼è¯†åˆ«ä¸åˆ†ç±»ç³»ç»Ÿ
class ProblemPatternRecognizer {
    constructor() {
        this.patterns = {
            'CONFIGURATION_ERROR': {
                keywords: ['åŸŸå', 'é…ç½®', 'é”™è¯¯', 'domain', 'config'],
                severity: 'HIGH',
                autoFixable: true,
                relatedFiles: ['config/env.js', '*.md'],
                solution: 'BatchConfigurationFix'
            },
            'API_CALLING_ERROR': {
                keywords: ['API', 'è·¯å¾„', 'é”™è¯¯', 'path', 'endpoint'],
                severity: 'HIGH',
                autoFixable: true,
                relatedFiles: ['utils/api.js', 'pages/*/index.js'],
                solution: 'APIPathCorrection'
            },
            'METHOD_INVOCATION_ERROR': {
                keywords: ['æ–¹æ³•', 'è°ƒç”¨', 'é”™è¯¯', 'this.', 'function'],
                severity: 'MEDIUM',
                autoFixable: true,
                relatedFiles: ['pages/*/index.js', 'components/*/index.js'],
                solution: 'MethodCallFix'
            },
            'TIMEOUT_VIOLATION': {
                keywords: ['è¶…æ—¶', '120ç§’', 'timeout', 'å¡ä½'],
                severity: 'CRITICAL',
                autoFixable: true,
                relatedFiles: ['*'],
                solution: 'TimeoutManagement'
            },
            'PARALLEL_OPPORTUNITY': {
                keywords: ['ä¸²è¡Œ', 'å¹¶è¡Œ', 'æ•ˆç‡', 'parallel', 'serial'],
                severity: 'MEDIUM',
                autoFixable: true,
                relatedFiles: ['*'],
                solution: 'ParallelOptimization'
            }
        }
        
        this.recognitionHistory = []
    }
    
    // ğŸ”´ è¯†åˆ«é—®é¢˜æ¨¡å¼
    recognizePattern(description, context = {}) {
        const recognizedPatterns = []
        
        Object.entries(this.patterns).forEach(([patternType, config]) => {
            const matchScore = this.calculateMatchScore(description, config.keywords)
            
            if (matchScore > 0.5) { // åŒ¹é…åº¦è¶…è¿‡50%
                recognizedPatterns.push({
                    type: patternType,
                    matchScore,
                    severity: config.severity,
                    autoFixable: config.autoFixable,
                    relatedFiles: config.relatedFiles,
                    solution: config.solution,
                    confidence: this.calculateConfidence(matchScore, context)
                })
            }
        })
        
        // æŒ‰åŒ¹é…åº¦æ’åº
        recognizedPatterns.sort((a, b) => b.matchScore - a.matchScore)
        
        // è®°å½•è¯†åˆ«å†å²
        this.recognitionHistory.push({
            timestamp: Date.now(),
            description,
            patterns: recognizedPatterns
        })
        
        return recognizedPatterns
    }
    
    // ğŸ”´ è®¡ç®—åŒ¹é…åˆ†æ•°
    calculateMatchScore(description, keywords) {
        const lowerDescription = description.toLowerCase()
        const matchedKeywords = keywords.filter(keyword => 
            lowerDescription.includes(keyword.toLowerCase())
        )
        
        return matchedKeywords.length / keywords.length
    }
    
    // ğŸ”´ è®¡ç®—ç½®ä¿¡åº¦
    calculateConfidence(matchScore, context) {
        let confidence = matchScore
        
        // åŸºäºä¸Šä¸‹æ–‡è°ƒæ•´ç½®ä¿¡åº¦
        if (context.hasErrorDetails) confidence += 0.1
        if (context.hasStackTrace) confidence += 0.1
        if (context.hasReproductionSteps) confidence += 0.1
        
        return Math.min(1.0, confidence)
    }
    
    // ğŸ”´ ç”Ÿæˆè§£å†³æ–¹æ¡ˆå»ºè®®
    generateSolutionRecommendation(recognizedPatterns) {
        if (recognizedPatterns.length === 0) {
            return {
                recommendation: 'MANUAL_ANALYSIS',
                message: 'æœªè¯†åˆ«åˆ°å·²çŸ¥é—®é¢˜æ¨¡å¼ï¼Œéœ€è¦æ‰‹åŠ¨åˆ†æ',
                priority: 'MEDIUM'
            }
        }
        
        const topPattern = recognizedPatterns[0]
        
        return {
            recommendation: topPattern.solution,
            message: `è¯†åˆ«åˆ°${topPattern.type}é—®é¢˜æ¨¡å¼ï¼Œå»ºè®®ä½¿ç”¨${topPattern.solution}è§£å†³`,
            priority: topPattern.severity,
            confidence: topPattern.confidence,
            autoFixable: topPattern.autoFixable,
            relatedFiles: topPattern.relatedFiles
        }
    }
}
```

### 8. è´£ä»»è¾¹ç•Œæ£€æŸ¥ç³»ç»Ÿ
```javascript
// ğŸ”´ è´£ä»»è¾¹ç•Œæ£€æŸ¥ç³»ç»Ÿ
class ResponsibilityBoundaryChecker {
    constructor() {
        this.boundaries = {
            'FRONTEND': {
                responsibilities: [
                    'ç”¨æˆ·ç•Œé¢æ˜¾ç¤º',
                    'ç”¨æˆ·äº¤äº’å¤„ç†',
                    'æ•°æ®å±•ç¤ºæ ¼å¼åŒ–',
                    'å®¢æˆ·ç«¯éªŒè¯',
                    'é¡µé¢è·¯ç”±ç®¡ç†'
                ],
                prohibitions: [
                    'ä¸šåŠ¡é€»è¾‘è®¡ç®—',
                    'æ•°æ®æƒé™éªŒè¯',
                    'æŠ½å¥–æ¦‚ç‡è®¡ç®—',
                    'æ”¯ä»˜å¤„ç†',
                    'ç”¨æˆ·è®¤è¯'
                ],
                dataSource: 'BACKEND_API_ONLY'
            },
            'BACKEND': {
                responsibilities: [
                    'ä¸šåŠ¡é€»è¾‘å¤„ç†',
                    'æ•°æ®æƒé™éªŒè¯',
                    'APIæ¥å£æä¾›',
                    'æ•°æ®åº“æ“ä½œ',
                    'ç”¨æˆ·è®¤è¯æˆæƒ'
                ],
                prohibitions: [
                    'ç•Œé¢æ¸²æŸ“',
                    'ç”¨æˆ·äº¤äº’',
                    'å‰ç«¯çŠ¶æ€ç®¡ç†'
                ],
                dataSource: 'DATABASE_AND_BUSINESS_LOGIC'
            },
            'DATABASE': {
                responsibilities: [
                    'æ•°æ®å­˜å‚¨',
                    'æ•°æ®æŸ¥è¯¢',
                    'æ•°æ®å®Œæ•´æ€§',
                    'äº‹åŠ¡ç®¡ç†'
                ],
                prohibitions: [
                    'ä¸šåŠ¡é€»è¾‘',
                    'æ•°æ®æ ¼å¼åŒ–',
                    'ç”¨æˆ·ç•Œé¢'
                ],
                dataSource: 'PERSISTENT_STORAGE'
            }
        }
    }
    
    // ğŸ”´ æ£€æŸ¥è´£ä»»è¾¹ç•Œè¿è§„
    checkBoundaryViolation(component, action, context) {
        const boundary = this.boundaries[component.toUpperCase()]
        
        if (!boundary) {
            return {
                violation: true,
                type: 'UNKNOWN_COMPONENT',
                message: `æœªçŸ¥ç»„ä»¶: ${component}`,
                severity: 'HIGH'
            }
        }
        
        // æ£€æŸ¥æ˜¯å¦æ˜¯ç¦æ­¢çš„æ“ä½œ
        const isProhibited = boundary.prohibitions.some(prohibition => 
            action.toLowerCase().includes(prohibition.toLowerCase())
        )
        
        if (isProhibited) {
            return {
                violation: true,
                type: 'RESPONSIBILITY_VIOLATION',
                component,
                action,
                message: `${component}ä¸åº”è¯¥æ‰§è¡Œ: ${action}`,
                severity: 'CRITICAL',
                correctComponent: this.findCorrectComponent(action),
                suggestion: this.generateBoundarySuggestion(component, action)
            }
        }
        
        // æ£€æŸ¥æ˜¯å¦æ˜¯æ­£ç¡®çš„è´£ä»»èŒƒå›´
        const isResponsible = boundary.responsibilities.some(responsibility => 
            action.toLowerCase().includes(responsibility.toLowerCase())
        )
        
        if (!isResponsible) {
            return {
                violation: true,
                type: 'UNCLEAR_RESPONSIBILITY',
                component,
                action,
                message: `${component}å¯¹${action}çš„è´£ä»»ä¸æ˜ç¡®`,
                severity: 'MEDIUM',
                suggestion: 'è¯·æ˜ç¡®è´£ä»»å½’å±æˆ–é‡æ–°è®¾è®¡æ¶æ„'
            }
        }
        
        return {
            violation: false,
            message: `${component}æ‰§è¡Œ${action}ç¬¦åˆè´£ä»»è¾¹ç•Œ`,
            component,
            action
        }
    }
    
    // ğŸ”´ æŸ¥æ‰¾æ­£ç¡®çš„ç»„ä»¶
    findCorrectComponent(action) {
        for (const [component, boundary] of Object.entries(this.boundaries)) {
            const isResponsible = boundary.responsibilities.some(responsibility => 
                action.toLowerCase().includes(responsibility.toLowerCase())
            )
            
            if (isResponsible) {
                return component
            }
        }
        
        return 'UNKNOWN'
    }
    
    // ğŸ”´ ç”Ÿæˆè¾¹ç•Œå»ºè®®
    generateBoundarySuggestion(component, action) {
        const correctComponent = this.findCorrectComponent(action)
        
        if (correctComponent !== 'UNKNOWN') {
            return {
                currentComponent: component,
                correctComponent,
                action,
                suggestion: `å°†${action}ä»${component}ç§»è‡³${correctComponent}`,
                architectureChange: true
            }
        }
        
        return {
            currentComponent: component,
            action,
            suggestion: 'é‡æ–°è¯„ä¼°æ¶æ„è®¾è®¡ï¼Œæ˜ç¡®è´£ä»»åˆ†å·¥',
            architectureChange: true
        }
    }
    
    // ğŸ”´ æ£€æŸ¥æ•°æ®æµå‘
    checkDataFlow(source, target, dataType) {
        const sourceComponent = this.boundaries[source.toUpperCase()]
        const targetComponent = this.boundaries[target.toUpperCase()]
        
        if (!sourceComponent || !targetComponent) {
            return {
                violation: true,
                type: 'INVALID_COMPONENT',
                message: `æ— æ•ˆçš„æ•°æ®æµ: ${source} -> ${target}`
            }
        }
        
        // æ£€æŸ¥æ•°æ®æµå‘æ˜¯å¦åˆç†
        const validFlows = {
            'DATABASE_TO_BACKEND': true,
            'BACKEND_TO_FRONTEND': true,
            'FRONTEND_TO_BACKEND': true,
            'BACKEND_TO_DATABASE': true,
            'FRONTEND_TO_DATABASE': false,  // ç›´æ¥è®¿é—®æ•°æ®åº“è¿è§„
            'DATABASE_TO_FRONTEND': false   // ç›´æ¥è®¿é—®æ•°æ®åº“è¿è§„
        }
        
        const flowKey = `${source.toUpperCase()}_TO_${target.toUpperCase()}`
        const isValidFlow = validFlows[flowKey]
        
        if (isValidFlow === false) {
            return {
                violation: true,
                type: 'INVALID_DATA_FLOW',
                source,
                target,
                dataType,
                message: `ç¦æ­¢çš„æ•°æ®æµ: ${source} -> ${target}`,
                severity: 'CRITICAL',
                suggestion: 'å‰ç«¯å¿…é¡»é€šè¿‡åç«¯APIè®¿é—®æ•°æ®ï¼Œç¦æ­¢ç›´æ¥è®¿é—®æ•°æ®åº“'
            }
        }
        
        return {
            violation: false,
            message: `åˆæ³•çš„æ•°æ®æµ: ${source} -> ${target}`,
            source,
            target,
            dataType
        }
    }
}
```

---

## ğŸ“š ç›¸å…³è§„åˆ™æ–‡æ¡£å¼•ç”¨

- **PowerShellæ§åˆ¶å°ç¨³å®šæ€§**: è¯¦è§ `development-automation-unified.mdc`
- **å·¥å…·è°ƒç”¨å‚æ•°éªŒè¯**: è¯¦è§ `1.mdc` - å·¥å…·è°ƒç”¨å‚æ•°éªŒè¯è§„åˆ™
- **å¹¶è¡Œå·¥å…·è°ƒç”¨ä¼˜åŒ–**: è¯¦è§ `1.mdc` - å¹¶è¡Œå·¥å…·è°ƒç”¨å¼ºåˆ¶ä¼˜åŒ–è§„åˆ™
- **å¾®ä¿¡å°ç¨‹åºé¡¹ç›®è¯†åˆ«**: è¯¦è§ `development-automation-unified.mdc`
- **ä¿¡æ¯æ”¶é›†ç­–ç•¥**: è¯¦è§ `development-automation-unified.mdc`
- **å®‰å…¨æ ‡å‡†è§„èŒƒ**: è¯¦è§ `tiangong-security-standards (1).mdc`
- **é«˜çº§ä¼˜åŒ–è§„åˆ™**: è¯¦è§ `advanced-optimization.mdc`
- **æ ¸å¿ƒé—®é¢˜é¢„é˜²**: è¯¦è§ `problem-prevention-core.mdc`

---

**è§„åˆ™åˆ›å»ºæ—¶é—´**: $(Get-Date -Format "yyyyå¹´MMæœˆddæ—¥")  
**æœ€åæ›´æ–°æ—¶é—´**: $(Get-Date -Format "yyyyå¹´MMæœˆddæ—¥")  
**æ›´æ–°å†…å®¹**: æ–°å¢é—®é¢˜æ¨¡å¼è¯†åˆ«ç³»ç»Ÿå’Œè´£ä»»è¾¹ç•Œæ£€æŸ¥ç³»ç»Ÿï¼Œå®Œå–„é—®é¢˜åˆ†æèƒ½åŠ›  
**é€‚ç”¨èŒƒå›´**: æ‰€æœ‰ä¼šè¯é—®é¢˜åˆ†æå’Œè§£å†³åœºæ™¯  
**ç»´æŠ¤çŠ¶æ€**: âœ… å·²å®Œå–„ - é—®é¢˜åˆ†æè§„åˆ™å®Œæ•´æ€§å·²ä¿è¯
















